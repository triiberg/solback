<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Solback Overview</title>
    <style>
      :root {
        --ink: #1b1a17;
        --muted: #5a534a;
        --accent: #1d6a5a;
        --accent-2: #c24c2d;
        --surface: #fffaf2;
        --line: #e3dccb;
        --shadow: 0 18px 45px rgba(34, 31, 30, 0.12);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Garamond", "Palatino Linotype", "Book Antiqua", serif;
        color: var(--ink);
        background: radial-gradient(circle at 10% 20%, #f2efe6 0%, transparent 45%),
          radial-gradient(circle at 90% 0%, #e7f0f4 0%, transparent 55%),
          linear-gradient(135deg, #f8f1e6 0%, #f2f7f3 45%, #f8ece6 100%);
        min-height: 100vh;
        padding: 32px 16px 56px;
      }

      .page {
        max-width: 1100px;
        margin: 0 auto;
        display: grid;
        gap: 24px;
      }

      header {
        position: relative;
        background: var(--surface);
        border: 1px solid var(--line);
        border-radius: 18px;
        padding: 28px;
        box-shadow: var(--shadow);
        overflow: hidden;
        animation: float-in 600ms ease-out;
      }

      header::after {
        content: "";
        position: absolute;
        inset: -40% 40% auto -20%;
        height: 180px;
        background: linear-gradient(120deg, rgba(29, 106, 90, 0.16), rgba(194, 76, 45, 0.16));
        transform: rotate(-2deg);
      }

      h1 {
        margin: 0 0 10px;
        font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", sans-serif;
        font-size: clamp(28px, 4vw, 40px);
        letter-spacing: 0.6px;
      }

      .lead {
        margin: 0;
        color: var(--muted);
        font-size: 16px;
        line-height: 1.6;
        max-width: 720px;
      }

      .grid {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      }

      .card {
        background: var(--surface);
        border: 1px solid var(--line);
        border-radius: 16px;
        padding: 20px 22px;
        box-shadow: 0 12px 28px rgba(34, 31, 30, 0.08);
        animation: float-in 700ms ease-out;
      }

      .card h2 {
        font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", sans-serif;
        font-size: 18px;
        margin: 0 0 10px;
      }

      .card p {
        margin: 0;
        color: var(--muted);
        font-size: 15px;
        line-height: 1.6;
      }

      .flow {
        display: grid;
        gap: 12px;
      }

      .flow-step {
        display: flex;
        gap: 12px;
        align-items: flex-start;
        padding: 12px 14px;
        background: #fffdf6;
        border: 1px solid var(--line);
        border-radius: 12px;
      }

      .flow-step span {
        display: inline-flex;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: var(--accent);
        color: #fff;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", sans-serif;
      }

      .flow-step p {
        margin: 0;
        color: var(--muted);
        line-height: 1.5;
      }

      .endpoints {
        display: grid;
        gap: 10px;
        font-size: 15px;
      }

      .endpoints a {
        color: var(--accent);
        text-decoration: none;
        font-weight: 600;
      }

      .endpoints a:hover {
        text-decoration: underline;
      }

      .pill {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 999px;
        background: rgba(29, 106, 90, 0.12);
        color: var(--accent);
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
      }

      footer {
        text-align: center;
        color: var(--muted);
        font-size: 14px;
      }

      @keyframes float-in {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <header>
        <span class="pill">Guarantees of Origin</span>
        <h1>Solback Data Pipeline</h1>
        <p class="lead">
          This service collects European energy certificate auction results, standardizes them, and exposes clean
          analytics-ready data for market insights. Built to support analysts working with renewable energy producers.
        </p>
      </header>

      <section class="grid">
        <div class="card">
          <h2>What it does</h2>
          <p>
            Solback pulls the latest auction ZIP files, extracts structured data, and stores normalized results for
            fast, filtered access. It helps answer questions about price trends, technology performance, and market
            direction.
          </p>
        </div>
        <div class="card">
          <h2>Technology</h2>
          <p>
            Go + Gin for the API, GORM for persistence, PostgreSQL for storage, and a pipeline service to orchestrate
            ingestion. OpenAI assists with HTML and spreadsheet parsing where needed.
          </p>
        </div>
        <div class="card">
          <h2>Why it matters</h2>
          <p>
            Renewable producers can benchmark their latest price against market averages, compare across technologies,
            and understand long-term trends to improve bidding strategies.
          </p>
        </div>
      </section>

      <section class="card">
        <h2>Data flow</h2>
        <div class="flow">
          <div class="flow-step">
            <span>1</span>
            <p>Load source URLs from the database and fetch HTML pages.</p>
          </div>
          <div class="flow-step">
            <span>2</span>
            <p>Extract the newest ZIP link, download the file, and unpack XLSX data in memory.</p>
          </div>
          <div class="flow-step">
            <span>3</span>
            <p>Normalize auction rows, compute aggregates, and store results in Postgres.</p>
          </div>
          <div class="flow-step">
            <span>4</span>
            <p>Expose the data through GET endpoints for filtering, grouping, and analysis.</p>
          </div>
        </div>
      </section>

      <section class="card">
        <h2>GET endpoints</h2>
        <div class="endpoints">
          <div><a href="/health" target="_blank" rel="noreferrer">GET /health</a>  service status</div>
          <div><a href="/sources" target="_blank" rel="noreferrer">GET /sources</a>  configured data sources</div>
          <div><a href="/logs" target="_blank" rel="noreferrer">GET /logs</a>  ingestion logs</div>
          <div><a href="/data" target="_blank" rel="noreferrer">GET /data</a>  auction data with filters</div>
          <div><a href="/refresh" target="_blank" rel="noreferrer">GET /refresh</a>  trigger a refresh run</div>
        </div>
      </section>

      <section class="card">
        <h2>Product + DevOps notes</h2>
        <p>
          <strong>Product notes:</strong> Solback powers the Sol frontend by delivering structured auction data and
          filters for year, technology, and aggregation. The UI focuses on quick trend insight with interactive charts
          while keeping the raw dataset accessible.
        </p>
        <p>
          <strong>DevOps overview:</strong> Kubernetes runs Postgres as a StatefulSet with a 1Gi PVC, the Go API as a
          Deployment with config + secret mounts, and the React frontend as a separate Deployment. Traefik + Lets
          Encrypt terminate TLS for both domains, and images are pulled from GHCR via a registry secret.
        </p>
        <p>
          <strong>Known issues:</strong> The refresh cron lives inside the API pod, so scaling the deployment would
          duplicate refresh runs. The UI does not surface a "last data received" timestamp yet.
        </p>
      </section>


      <footer>
        Coded by Codex, supervised by T.R.
      </footer>
    </div>
  </body>
</html>
